<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xf="http://www.w3.org/2002/xforms"
      lang="en">
<head>
    <title>XForms Tree Demo</title>
    <!--
    ~ Copyright (c) 2012. betterFORM Project - http://www.betterform.de
    ~ Licensed under the terms of BSD License
    -->

    <style type="text/css">

        .xfCaOPMLTreeOutput {
            padding:10px;
        }

        .subheading {
            font-weight:bold;
            display:block;
        }
        .heading {
            font-size:large;
            font-weight:bold;
            padding:5px;
        }
    </style>
    <xf:model id="m-tree">
        <xf:instance id="i-tree" >
            <opml version="1.0" value="" xmlns="">
                <head>
                    <title>geography.opml</title>
                    <dateCreated>2006-11-10</dateCreated>
                    <dateModified>2006-11-13</dateModified>
                    <ownerName>Magellan, Ferdinand</ownerName>
                </head>
                <body>
                    <outline text="Africa" type="continent">
                        <outline text="Egypt" type="country"/>
                        <outline text="Kenya" type="country">
                            <outline text="Nairobi" type="city"/>
                            <outline text="Mombasa" type="city"/>
                        </outline>
                        <outline text="Sudan" type="country">
                            <outline text="Khartoum" type="city"/>
                        </outline>
                    </outline>
                    <outline text="Asia" type="continent">
                        <outline text="China" type="country"/>
                        <outline text="India" type="country"/>
                        <outline text="Russia" type="country"/>
                        <outline text="Mongolia" type="country"/>
                    </outline>
                    <outline text="Australia" type="continent" population="21 million">
                        <outline text="Australia" type="country" population="21 million"/>
                    </outline>
                    <outline text="Europe" type="continent">
                        <outline text="Germany" type="country"/>
                        <outline text="France" type="country"/>
                        <outline text="Spain" type="country"/>
                        <outline text="Italy" type="country"/>
                    </outline>
                    <outline text="North America" type="continent">
                        <outline text="Mexico" type="country" population="108 million" area="1,972,550 sq km">
                            <outline text="Mexico City" type="city" population="19 million" timezone="-6 UTC"/>
                            <outline text="Guadalajara" type="city" population="4 million" timezone="-6 UTC"/>
                        </outline>
                        <outline text="Canada" type="country" population="33 million" area="9,984,670 sq km">
                            <outline text="Ottawa" type="city" population="0.9 million" timezone="-5 UTC"/>
                            <outline text="Toronto" type="city" population="2.5 million" timezone="-5 UTC"/>
                        </outline>
                        <outline text="United States of America" type="country"/>
                    </outline>
                    <outline text="South America" type="continent">
                        <outline text="Brazil" type="country" population="186 million"/>
                        <outline text="Argentina" type="country" population="40 million"/>
                    </outline>
                </body>
            </opml>
        </xf:instance>


        <xf:instance id="i-controller" xmlns="">
            <data>
                <treeSelector>empty</treeSelector>
            </data>
        </xf:instance>
    </xf:model>


</head>


<body class="tundra"  style="width:100%;height:100%;margin:0;padding:0;overflow:hidden;" >

<xf:group appearance="full">
    <xf:label class="heading">Tree Demo</xf:label>
    <xf:group appearance="full">
        <xf:label class="subheading">betterForm Tree Control</xf:label>


        <xf:input id="geodata" ref="instance('i-tree')" appearance="caOPMLTree">
            <xf:label/>
        </xf:input>
        <br/>
        <xf:output id="location" onclick="" ref="instance('i-controller')/treeSelector">
            <xf:label>Location:</xf:label>
            <script type="dojo/method">
                dojo.connect(dijit.byId("geodata-value"), "valueChanged", updatelocation);

                function updatelocation() {
                    var treeValue = dijit.byId("geodata-value").getControlValue();
                    dijit.byId("location-value").setControlValue(treeValue);
                }
            </script>
        </xf:output>
    </xf:group>
	<br/>
    <xf:group appearance="full">
        <xf:label class="subheading">Tree &amp; Connector Markup</xf:label>

<pre>
<![CDATA[
<!-- Tree Markup -->
<xf:input id="geodata" ref="instance('i-tree')" appearance="caOPMLTree">
	<xf:label/>
</xf:input>

<!-- Display selected leaf -->
<xf:output id="location" onclick="" ref="instance('i-controller')/treeSelector">
	<xf:label>Location:</xf:label>
	<script type="dojo/method">
		dojo.connect(dijit.byId("geodata-value"), "valueChanged", updatelocation);

		function updatelocation() {
			var treeValue = dijit.byId("geodata-value").getControlValue();
			dijit.byId("location-value").setControlValue(treeValue);
		}

	</script>
</xf:output>
]]>
        </pre>
    </xf:group>
    <br/>
</xf:group>
</body>
</html>

