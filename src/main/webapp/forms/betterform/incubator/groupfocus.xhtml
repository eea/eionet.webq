<?xml version="1.0" encoding="UTF-8"?>
<xhtml:html xmlns:xforms="http://www.w3.org/2002/xforms"
            xmlns:xhtml="http://www.w3.org/1999/xhtml"
            xmlns:ev="http://www.w3.org/2001/xml-events">
    <xhtml:head>
        <!--
        ~ Copyright (c) 2012. betterFORM Project - http://www.betterform.de
        ~ Licensed under the terms of BSD License
        -->

        <xhtml:title>4.4.14.a DOMFocusOut event</xhtml:title>
        <xhtml:link rel="stylesheet" href="../../../driverPages/forms/TestSuite11.css" type="text/css"/>
        <xforms:model>
            <xforms:instance>
                <car xmlns="">
                    <make/>
                    <year/>
                </car>
            </xforms:instance>
            <xforms:instance id="i-controller">
                <data xmlns="">
                    <isDirty>false</isDirty>
                </data>
            </xforms:instance>
            <xforms:setfocus control="input_year" ev:event="xforms-ready"/>
            <!--<xforms:setfocus control="input_make" ev:event="xforms-ready"/>-->
        </xforms:model>
    </xhtml:head>
    <xhtml:body>
        <xforms:group id="outer">
        <!--
            <xforms:action ev:event="DOMFocusIn" ev:target="outer">
                    <xforms:message level="ephemeral">outer in</xforms:message>
                        -->
<!-- ##### put model submission here ##### -->
<!--
                <xforms:setfocus control="input_year"/>

            </xforms:action>
-->
        <div class="description">
            This form uses a DOMFocusOut listener on a XForms group Element to detect if a group looses focus.

            <br/>


            <br/>
            <br/>
            Please note that the DOMFocusOut of the group won't fire until the next XForms control on the same
            page is receiving focus.
        </div>

        <xforms:group appearance="full">
            <xforms:label>Something before</xforms:label>
            <xforms:input id="dummy" ref="make">
                <xforms:label></xforms:label>
            </xforms:input>
        </xforms:group>


        <xforms:group id="myGroup" appearance="full">
            <xforms:label>handling DOMFocusOut on a group - You should see messages when leaving this group.</xforms:label>
            <xforms:action ev:event="DOMFocusOut" ev:target="myGroup">
                <xforms:message level="ephemeral">Updating master</xforms:message>
                <!-- ##### put model submission here ##### -->
            </xforms:action>


            <xforms:input id="input_make" ref="/car/make">
                <xforms:label>Car make</xforms:label>
            </xforms:input>
            <xforms:input id="input_year" ref="/car/year">
                <xforms:label>Car year</xforms:label>
            </xforms:input>
        </xforms:group>

        <xforms:group appearance="full">
            <xforms:input ref="year">
                <xforms:label>another year</xforms:label>
            </xforms:input>
        </xforms:group>
        </xforms:group>

    </xhtml:body>
</xhtml:html>
