<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
      <title>submission</title>
   </head>
   <body>
      <div id="xforms">
         <div style="display:none;">
            <xf:model xmlns:xf="http://www.w3.org/2002/xforms" id="formdef">
               <xf:instance xmlns="" id="i-props">
                  <data>
                     <xfElement type="submission" id="" combine="append" ref="" bind="" resource="" action=""
                                mode="asynchronous"
                                method=""
                                validate=""
                                relevant=""
                                serialization=""
                                version="1.0"
                                indent="false"
                                mediatype="application/xml"
                                encoding="UTF-8"
                                omit-xml-declaration="false"
                                standalone=""
                                cdata-section-elements=""
                                replace="all"
                                instance=""
                                separator="&amp;"
                                targetref=""
                                target=""
                                includenamespaceprefixes=""/>
                  </data>
               </xf:instance>
               <xf:instance id="i-data">
                  <data xmlns="">
                     <dataAttributes/>
                     <updateProperties/>
                     <parentElement/>
                  </data>
               </xf:instance>
               <xf:instance xmlns="" id="i-eventTargets"
                            src="/betterform/forms/incubator/editor/eventTargets.xml"/>
               <xf:action xmlns:ev="http://www.w3.org/2001/xml-events" ev:event="xforms-ready">
                  <script>
                                                        xformsEditor.editProperties(dojo.attr(dojo.byId("xfDoc"), "data-bf-currentid"));
                                                    </script>
               </xf:action>
               <xf:bind nodeset="@id" type="xsd:ID"/>
               <xf:bind id="xml-event">
        
        
                  <xf:bind nodeset="@target" type="xforms:XPathExpression"/>
        
        
        
        
               </xf:bind>
               <xf:bind nodeset="@ref" type="xforms:XPathExpression"/>
               <xf:bind nodeset="@bind" type="xsd:IDREF"/>
               <xf:bind nodeset="@relevant" type="xsd:boolean"/>
               <xf:bind nodeset="@combine" type=""/>
               <xf:bind nodeset="@resource" type="xsd:anyURI"/>
               <xf:bind nodeset="@version" type="xsd:NMTOKEN"/>
               <xf:bind nodeset="@mediatype" type="xsd:string"/>
               <xf:bind nodeset="@action" type="xsd:anyURI"/>
               <xf:bind nodeset="@mode" type=""/>
               <xf:bind nodeset="@method" type=""/>
               <xf:bind nodeset="@validate" type="xsd:boolean"/>
               <xf:bind nodeset="@serialization" type="xsd:string"/>
               <xf:bind nodeset="@indent" type="xsd:boolean"/>
               <xf:bind nodeset="@encoding" type="xsd:string"/>
               <xf:bind nodeset="@omit-xml-declaration" type="xsd:boolean"/>
               <xf:bind nodeset="@standalone" type="xsd:boolean"/>
               <xf:bind nodeset="@cdata-section-elements" type="xforms:QNameList"/>
               <xf:bind nodeset="@replace" type=""/>
               <xf:bind nodeset="@instance" type="xsd:IDREF"/>
               <xf:bind nodeset="@separator" type=""/>
               <xf:bind nodeset="@targetref" type="xforms:XPathExpression"/>
               <xf:bind nodeset="@includenamespaceprefixes" type=""/>
            </xf:model>
            <xf:input xmlns:xf="http://www.w3.org/2002/xforms" ref="instance('i-data')/dataAttributes"
                      id="dataAttributes">
               <xf:label>hidden</xf:label>
               <xf:action xmlns:ev="http://www.w3.org/2001/xml-events" ev:event="xforms-value-changed">
                  <xf:insert origin="bf:props2xml(string(instance('i-data')/dataAttributes/text()))"
                             context="instance()"
                             model="formdef"/>
                  <xf:insert context="instance()/xfElement[2]" origin="../xfElement[1]/@*" model="formdef"/>
               </xf:action>
            </xf:input>
            <xf:input xmlns:xf="http://www.w3.org/2002/xforms" id="parentElement"
                      ref="instance('i-data')/parentElement">
               <xf:label/>
            </xf:input>
            <xf:output xmlns:xf="http://www.w3.org/2002/xforms"
                       ref="instance('i-data')/updateProperties"
                       id="properties-output">
               <xf:label>props:</xf:label>
               <xf:action xmlns:ev="http://www.w3.org/2001/xml-events" ev:event="betterform-state-changed"
                          if="string-length(.) != 0">
                  <script>
                                                        dojo.publish('/properties/changed',[]);
                                                    </script>
               </xf:action>
            </xf:output>
         </div>
         <xf:group xmlns:xf="http://www.w3.org/2002/xforms" ref="xfElement[2]" id="properties"
                   appearance="compact">
            <xf:action xmlns:ev="http://www.w3.org/2001/xml-events" ev:event="DOMFocusOut"
                       ev:observer="properties"
                       ev:phase="capture"
                       propagate="stop">
               <xf:setvalue ref="instance('i-data')/updateProperties"
                            value="string(bf:xml2props(instance('i-props')/xfElement[2]))"/>
            </xf:action>
            <xf:label class="elementProps">submission attributes</xf:label>
            <xf:input ref="@id">
               <xf:label>id</xf:label>
            </xf:input>
            <xf:input ref="@combine">
               <xf:label>combine</xf:label>
            </xf:input>
            <xf:input ref="@ref">
               <xf:label>ref</xf:label>
            </xf:input>
            <xf:input ref="@bind">
               <xf:label>bind</xf:label>
            </xf:input>
            <xf:input ref="@resource">
               <xf:label>resource</xf:label>
            </xf:input>
            <xf:input ref="@action">
               <xf:label>action</xf:label>
            </xf:input>
            <xf:input ref="@mode">
               <xf:label>mode</xf:label>
            </xf:input>
            <xf:input ref="@method">
               <xf:label>method</xf:label>
            </xf:input>
            <xf:input ref="@validate">
               <xf:label>validate</xf:label>
            </xf:input>
            <xf:input ref="@relevant">
               <xf:label>relevant</xf:label>
            </xf:input>
            <xf:input ref="@serialization">
               <xf:label>serialization</xf:label>
            </xf:input>
            <xf:input ref="@version">
               <xf:label>version</xf:label>
            </xf:input>
            <xf:input ref="@indent">
               <xf:label>indent</xf:label>
            </xf:input>
            <xf:input ref="@mediatype">
               <xf:label>mediatype</xf:label>
            </xf:input>
            <xf:input ref="@encoding">
               <xf:label>encoding</xf:label>
            </xf:input>
            <xf:input ref="@omit-xml-declaration">
               <xf:label>omit-xml-declaration</xf:label>
            </xf:input>
            <xf:input ref="@standalone">
               <xf:label>standalone</xf:label>
            </xf:input>
            <xf:input ref="@cdata-section-elements">
               <xf:label>cdata-section-elements</xf:label>
            </xf:input>
            <xf:input ref="@replace">
               <xf:label>replace</xf:label>
            </xf:input>
            <xf:input ref="@instance">
               <xf:label>instance</xf:label>
            </xf:input>
            <xf:input ref="@separator">
               <xf:label>separator</xf:label>
            </xf:input>
            <xf:input ref="@targetref">
               <xf:label>targetref</xf:label>
            </xf:input>
            <xf:input ref="@target">
               <xf:label>target</xf:label>
            </xf:input>
            <xf:input ref="@includenamespaceprefixes">
               <xf:label>includenamespaceprefixes</xf:label>
            </xf:input>
         </xf:group>
      </div>
   </body>
</html>