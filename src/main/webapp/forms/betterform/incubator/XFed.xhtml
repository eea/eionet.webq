<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xf="http://www.w3.org/2002/xforms"
      xmlns:ev="http://www.w3.org/2001/xml-events"
      xmlns:bf="http://betterform.sourceforge.net/xforms"
      bf:evalAVTs="class style">
	<head>
		<title>betterFORMitor</title>
        <!--
        ~ Copyright (c) 2012. betterFORM Project - http://www.betterform.de
        ~ Licensed under the terms of BSD License
        -->

		<!--
		Standard template for embedded forms. Uses an additional div Element with @id="xforms" to allow addressing
		by a xforms load action.
		-->

        <!-- todo: transform from xhtml/xforms to xforms form definition has to be added -->
        <style type="text/css">
            .xfFullRepeat .xfRepeatItem .xfControl {
                clear: both;
                display: inline-block;
                float: none;
            }
            .level-1{margin-left:20px;}
            .level-2{margin-left:40px;}
            .level-3{margin-left:60px;}
            .level-4{margin-left:80px;}
            .level-5{margin-left:100px;}
            .level-6{margin-left:120px;}
            .level-7{margin-left:140px;}
            .level-8{margin-left:160px;}
            .level-9{margin-left:180px;}
            .level-10{margin-left:200px;}
        </style>
	</head>
	<body>
		<div id="xforms">
			<div style="display:none">
				<xf:model id="model-1">
<!--
                    <xf:action ev:event="model-construct-done">
                        &lt;!&ndash;load XForms document if param 'xforms' exists&ndash;&gt;
                        <xf:send submission="s-load"/>
                    </xf:action>

                    <xf:submission id="s-load"
                                   method="get"
                                   replace="instance"
                                   resource="{$contextroot}/{xforms}">
                        <xf:send submission="s-xforms2instance" ev:event="xforms-sbumit-done"/>
                    </xf:submission>
-->

                    <!-- This instance holds the actual form defintion -->
					<xf:instance id="i-default">
                        <data xmlns="">
                            <xfElement id="" name="model" level="1"/>
                            <xfElement id="" name="instance" level="2"/>
                            <xfElement id="" name="bind" level="2" nodeset="alias" constraint="string-length(.) &gt; 3"
                                       required="true()"/>
                            <xfElement id="" name="bind" level="2" nodeset="email" type="email"
                                       constraint="string-length(.) &gt; 3" required="true()"/>
                            <xfElement id="" name="bind" level="2" nodeset="pass1" constraint="string-length(.) &gt;= 6"
                                       required="true()"/>
                            <xfElement id="" name="bind" level="2" nodeset="pass2" constraint=". = ../pass1"
                                       required="true()"/>
                            <xfElement id="" name="bind" level="2" nodeset="agreement" type="boolean"/>
                            <xfElement id="s-send" name="submission" level="2" replace="instance" resource="echo:test"
                                       method="get"/>
                            <xfElement id="" name="action" level="3" ev:event="xforms-submit-error"/>
                            <xfElement id="" name="message" level="4"/>
                            <xfElement id="" name="action" level="3" ev:event="xforms-submit-done"/>
                            <xfElement id="" name="message" level="4"/>
                            <xfElement id="" name="group" level="1" appearance="bf:verticalTable"/>
                            <xfElement id="" name="label" level="2"/>
                            <xfElement id="first" name="input" level="2" ref="firstname"/>
                            <xfElement id="" name="label" level="3"/>
                            <xfElement id="" name="hint" level="3"/>
                            <xfElement id="" name="input" level="2" ref="lastname"/>
                            <xfElement id="" name="label" level="3"/>
                            <xfElement id="" name="hint" level="3"/>
                            <xfElement id="" name="input" level="2" ref="alias"/>
                            <xfElement id="" name="label" level="3"/>
                            <xfElement id="" name="hint" level="3"/>
                            <xfElement id="" name="alert" level="3"/>
                            <xfElement id="" name="input" level="2" ref="email"/>
                            <xfElement id="" name="label" level="3"/>
                            <xfElement id="" name="alert" level="3"/>
                            <xfElement id="" name="hint" level="3"/>
                            <xfElement id="" name="secret" level="2" ref="pass1"/>
                            <xfElement id="" name="label" level="3"/>
                            <xfElement id="" name="alert" level="3"/>
                            <xfElement id="" name="hint" level="3"/>
                            <xfElement id="" name="secret" level="2" ref="pass2"/>
                            <xfElement id="" name="label" level="3"/>
                            <xfElement id="" name="hint" level="3"/>
                            <xfElement id="" name="alert" level="3"/>
                            <xfElement id="" name="trigger" level="2" appearance="triggerMiddleColumn"/>
                            <xfElement id="" name="label" level="3"/>
                            <xfElement id="" name="hint" level="3"/>
                            <xfElement id="" name="send" level="3" submission="s-send"/>
                        </data>
                    </xf:instance>

<!--
                   <xf:instance id="i-prototypes">
                       <data>
                           <xfElement name="model" level="1" id="" functions="" schema="" version=""/>
                           <xfElement name="instance" id="" src="" resource="">
                               <data xmlns=""/>
                           </xfElement>
                           <xfElement name="bind" id="" nodeset="" calculate="" required="" constraint=""
                                      relevant="" readonly="" p3ptype=""/>
                           <xfElement name="extension" id=""/>
                           <xfElement name="label" id="" model="" ref="" bind=""/>
                           <xfElement name="hint" id="" model="" ref="" bind=""/>
                           <xfElement name="help" id="" model="" ref="" bind=""/>
                           <xfElement name="alert" id="" model="" ref="" bind=""/>
                           <xfElement name="item" id="">
                               <xfElement name="label" id="" model="" ref="" bind=""/>
                               <xfElement name="value" id="" model="" ref="" bind="" value=""/>
                           </xfElement>
                           <xfElement name="itemset" id="" model="" nodeset="" bind="">
                               <xfElement name="item" id="">
                                   <xfElement name="label" id="" model="" ref="" bind=""/>
                                   <xfElement name="value" id="" model="" ref="" bind="" value=""/>
                               </xfElement>
                           </xfElement>
                           <xfElement name="choices" id=""/>
                           <xfElement name="value" id="" model="" ref="" bind="" value=""/>
                           <xfElement name="copy" id="" model="" ref="" bind=""/>
                           <xfElement name="input" level="0" id="" model="" ref="" bind="" appearance="" inputmode=""
                                      incremental="false">
                               <xfElement name="label" id="" model="" ref="" bind=""/>
                               <xfElement name="hint" id="" model="" ref="" bind=""/>
                               <xfElement name="help" id="" model="" ref="" bind=""/>
                               <xfElement name="alert" id="" model="" ref="" bind=""/>
                           </xfElement>
                           <xfElement name="secret" level="0" id="" model="" ref="" bind="" appearance="" inputmode=""
                                      incremental="false">
                               <xfElement name="label" id="" model="" ref="" bind=""/>
                               <xfElement name="hint" id="" model="" ref="" bind=""/>
                               <xfElement name="help" id="" model="" ref="" bind=""/>
                               <xfElement name="alert" id="" model="" ref="" bind=""/>
                           </xfElement>
                           <xfElement name="textarea" level="0" id="" model="" ref="" bind="" appearance="" inputmode=""
                                      incremental="false">
                               <xfElement name="label" id="" model="" ref="" bind=""/>
                               <xfElement name="hint" id="" model="" ref="" bind=""/>
                               <xfElement name="help" id="" model="" ref="" bind=""/>
                               <xfElement name="alert" id="" model="" ref="" bind=""/>
                           </xfElement>
                           <xfElement name="upload" level="0" id="" model="" ref="" bind="" appearance="" mediatype=""
                                      incremental="false">
                               <xfElement name="label" id="" model="" ref="" bind=""/>
                               <xfElement name="hint" id="" model="" ref="" bind=""/>
                               <xfElement name="help"  id="" model="" ref="" bind=""/>
                               <xfElement name="alert" id="" model="" ref="" bind=""/>
                           </xfElement>
                           <xfElement name="select1" level="0" id="" model="" ref="" bind="" appearance=""
                                      selection="closed" incremental="true">
                               <xfElement name="label" id="" model="" ref="" bind=""/>
                               <xfElement name="hint" id="" model="" ref="" bind=""/>
                               <xfElement name="help" id="" model="" ref="" bind=""/>
                               <xfElement name="alert" id="" model="" ref="" bind=""/>
                           </xfElement>
                           <xfElement name="select" level="0" id="" model="" ref="" bind="" appearance=""
                                      selection="closed" incremental="true">
                               <xfElement name="label" id="" model="" ref="" bind=""/>
                               <xfElement name="hint" id="" model="" ref="" bind=""/>
                               <xfElement name="help" id="" model="" ref="" bind=""/>
                               <xfElement name="alert" id="" model="" ref="" bind=""/>
                           </xfElement>
                           <xfElement name="range" level="0" id="" model="" ref="" bind="" appearance="" start="" end=""
                                      step="" incremental="false">
                               <xfElement name="label" id="" model="" ref="" bind=""/>
                               <xfElement name="hint" id="" model="" ref="" bind=""/>
                               <xfElement name="help" id="" model="" ref="" bind=""/>
                               <xfElement name="alert" id="" model="" ref="" bind=""/>
                           </xfElement>
                           <xfElement name="trigger" level="0" id="" model="" ref="" bind="" appearance="">
                               <xfElement name="label" id="" model="" ref="" bind=""/>
                               <xfElement name="hint" id="" model="" ref="" bind=""/>
                               <xfElement name="help" id="" model="" ref="" bind=""/>
                               <xfElement name="alert" id="" model="" ref="" bind=""/>
                           </xfElement>
                           <xfElement name="output" level="0" id="" model="" ref="" bind="" appearance="" value=""
                                      mediatype="">
                               <xfElement name="label" id="" model="" ref="" bind=""/>
                               <xfElement name="hint"  id="" model="" ref="" bind=""/>
                               <xfElement name="help"  id="" model="" ref="" bind=""/>
                               <xfElement name="alert" id="" model="" ref="" bind=""/>
                           </xfElement>
                           <xfElement name="submit" level="0" id="" model="" ref="" bind="" appearance="" submission="">
                               <xfElement name="label" id="" model="" ref="" bind=""/>
                               <xfElement name="hint"  id="" model="" ref="" bind=""/>
                               <xfElement name="help"  id="" model="" ref="" bind=""/>
                               <xfElement name="alert" id="" model="" ref="" bind=""/>
                           </xfElement>
                           <xfElement name="repeat" level="0" id="" model="" nodeset="" bind="" appearance=""
                                      startindex="" number=""/>
                           <xfElement name="group" level="0" id="" model="" ref="" bind="" appearance="">
                               <xfElement name="label" id="" model="" ref="" bind=""/>
                               <xfElement name="hint"  id="" model="" ref="" bind=""/>
                               <xfElement name="help"  id="" model="" ref="" bind=""/>
                               <xfElement name="alert" id="" model="" ref="" bind=""/>
                           </xfElement>
                           <xfElement name="switch" level="0" id="" model="" ref="" bind="" appearance=""
                                      selected="false">
                               <xfElement name="case" id="" selected="false"/>
                           </xfElement>
                           <xfElement name="action" id="" if="" while=""/>
                           <xfElement name="setvalue" id="" model="" ref="" bind="" if="" while="" value=""/>
                           <xfElement name="insert"  id="" model="" nodeset="" bind="" if="" while="" at=""
                                      context="" origin="" position=""/>
                           <xfElement name="delete" id="" model="" nodeset="" bind="" if="" while="" at=""
                                      context=""/>
                           <xfElement name="setindex" id="" if="" while="" repeat="" index=""/>
                           <xfElement name="toggle" id="" if="" while="" case=""/>
                           <xfElement name="setfocus" id="" if="" while="" control=""/>
                           <xfElement name="dispatch" id="" if="" while="" name="" targetid="" target=""
                                      delay="" bubbles="true" cancelable="true"/>
                           <xfElement name="rebuild" id="" if="" while="" model=""/>
                           <xfElement name="recalculate" id="" if="" while="" model=""/>
                           <xfElement name="revalidate" id="" if="" while="" model=""/>
                           <xfElement name="refresh" id="" if="" while="" model=""/>
                           <xfElement name="reset" id="" if="" while="" model=""/>
                           <xfElement name="load" id="" model="" ref="" bind="" if="" while="" resource=""
                                      show="replace"/>
                           <xfElement name="send" id="" if="" while="" submission=""/>
                           <xfElement name="message" level="modal" id="" model="" ref="" bind="" if="" while=""/>
                           <xfElement name="submission" id="" combine="append" ref="" bind="" resource=""
                                      action="" mode="asynchronous" method="" validate="" relevant="" serialization=""
                                      version="1.0" indent="false" mediatype="application/xml" encoding="UTF-8"
                                      omit-xml-declaration="false" standalone="" cdata-section-elements="" replace="all"
                                      instance="" separator="&amp;" targetref="" target="" includenamespaceprefixes=""/>
                       </data>
                   </xf:instance>
-->


				</xf:model>
			</div>
			<xf:group>
                <xf:trigger>
                    <xf:label>insert first</xf:label>
                    <xf:insert nodeset="xfElement[1]" />
                </xf:trigger>
                <xf:repeat id="r-formdef" nodeset="xfElement" appearance="minimal">
                    <xf:output value="@name" class="xfElement level-{@level}">
                        <xf:label></xf:label>
                    </xf:output>
                    <xf:trigger>
                        <xf:label>&lt;</xf:label>
                    </xf:trigger>
                    <xf:trigger>
                        <xf:label>&gt;</xf:label>
                    </xf:trigger>
                    <xf:trigger>
                        <xf:label>edit attributes</xf:label>
                    </xf:trigger>
                    <xf:trigger>
                        <xf:label>delete</xf:label>
                    </xf:trigger>
                </xf:repeat>
			</xf:group>
		</div>
	</body>
</html>
