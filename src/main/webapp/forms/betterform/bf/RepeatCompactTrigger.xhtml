<?xml version="1.0" encoding="UTF-8"?>
<html xmlns:xf="http://www.w3.org/2002/xforms"
      xmlns:ev="http://www.w3.org/2001/xml-events"
      xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>group with appearance 'full'</title>
        <!--
        ~ Copyright (c) 2012. betterFORM Project - http://www.betterform.de
        ~ Licensed under the terms of BSD License
        -->

    </head>
    <body>

        <div style="display: none;">
            <xf:model>
                <xf:instance>
                    <data xmlns="">
                        <repeat readonly="false" relevant="true">
                            <item/>
                        </repeat>
                    </data>
                </xf:instance>
                <xf:bind nodeset="instance()/repeat/item" readonly="boolean-from-string(../@readonly)" relevant="boolean-from-string(../@relevant)"/>
                <xf:submission id="s-echo" method="get" resource="echo:tbd" replace="none">
                    <xf:message ev:event="xforms-submit-done">executed s-echo</xf:message>
                </xf:submission>
            </xf:model>
        </div>
        <div>
            <span>Insert Actions:</span>
            <xf:trigger>
                <xf:label>Before [index]</xf:label>
                <xf:action>
                    <xf:insert nodeset="repeat/item" at="index('repeat1')" position="before"/>
                </xf:action>
            </xf:trigger>
            <xf:trigger>
                <xf:label>Add [first]</xf:label>
                <xf:action>
                    <xf:insert nodeset="repeat/item" at="1" position="before"/>
                </xf:action>
            </xf:trigger>
            <xf:trigger>
                <xf:label>Add [last]</xf:label>
                <xf:action>
                    <xf:insert nodeset="repeat/item" at="last()" position="after"/>
                </xf:action>
            </xf:trigger>
        </div>
        <div>
            <span>Delete Actions:</span>
            <xf:trigger>
                <xf:label>Delete [index]</xf:label>
                <xf:action>
                    <xf:delete nodeset="repeat/item" at="index('repeat1')"/>
                </xf:action>
            </xf:trigger>
            <xf:trigger>
                <xf:label>Delete [first]</xf:label>
                <xf:action>
                    <xf:delete nodeset="repeat/item" at="first()" />
                </xf:action>
            </xf:trigger>
            <xf:trigger>
                <xf:label>Delete [last]</xf:label>
                <xf:action>
                    <xf:delete nodeset="repeat/item" at="last()" />
                </xf:action>
            </xf:trigger>
        </div>
        <div>
            <span>MIPS</span>
            <xf:trigger>
                <xf:label>Readonly: <xf:output ref="instance()/repeat/@readonly"/></xf:label>
                <xf:action>
                    <xf:setvalue ref="instance()/repeat/@readonly" value="not(boolean-from-string(instance()/repeat/@readonly))" />
                </xf:action>
            </xf:trigger>
            <xf:trigger>
                <xf:label>Relevant: <xf:output ref="instance()/repeat/@relevant"/></xf:label>
                <xf:action>
                    <xf:setvalue ref="instance()/repeat/@relevant" value="not(boolean-from-string(instance()/repeat/@relevant))" />
                </xf:action>
            </xf:trigger>
        </div>

        <xf:repeat id="repeat1" nodeset="repeat/item" appearance="compact">
            <xf:trigger appearance="minimal">
                <xf:label>Minimal Trigger</xf:label>
                <xf:message>clicked minimal trigger</xf:message>
            </xf:trigger>
            <xf:trigger>
                <xf:label>Trigger</xf:label>
                <xf:message>clicked Trigger</xf:message>
            </xf:trigger>
            <xf:submit submission="s-echo">
                <xf:label>submit</xf:label>
            </xf:submit>
        </xf:repeat>
    </body>
</html>
